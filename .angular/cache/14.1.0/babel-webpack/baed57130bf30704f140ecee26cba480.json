{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../user-posts/user-posts.component\";\n\nfunction UserDetailsComponent_div_0_app_user_posts_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-user-posts\", 4);\n  }\n\n  if (rf & 2) {\n    const user_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵproperty(\"userId\", user_r1.id);\n  }\n}\n\nfunction UserDetailsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\", 1)(4, \"thead\");\n    i0.ɵɵelement(5, \"th\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"tbody\")(7, \"tr\")(8, \"td\");\n    i0.ɵɵtext(9, \"email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"tr\")(13, \"td\");\n    i0.ɵɵtext(14, \"phone\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"tr\")(18, \"td\");\n    i0.ɵɵtext(19, \"address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(22, \"p\")(23, \"span\", 2);\n    i0.ɵɵlistener(\"click\", function UserDetailsComponent_div_0_Template_span_click_23_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.togglePostsView());\n    });\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(25, UserDetailsComponent_div_0_app_user_posts_25_Template, 1, 1, \"app-user-posts\", 3);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const user_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.name);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(user_r1.email);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(user_r1.phone);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate3(\" \", user_r1.address.street, \" \\u00A0 \", user_r1.address.suite, \" \\u00A0 \", user_r1.address.city, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"view posts from \", user_r1.name, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.viewPosts);\n  }\n}\n\nexport class UserDetailsComponent {\n  constructor(userService, activatedRoute) {\n    this.userService = userService;\n    this.activatedRoute = activatedRoute;\n    this._togglePostsView = false;\n  }\n\n  get viewPosts() {\n    return this._togglePostsView;\n  }\n\n  ngOnInit() {\n    const userId = Number(this.activatedRoute.snapshot.paramMap.get('id'));\n    this.vm$ = this.userService.getUserById(userId);\n  }\n\n  togglePostsView() {\n    this._togglePostsView = !this._togglePostsView;\n  }\n\n}\n\nUserDetailsComponent.ɵfac = function UserDetailsComponent_Factory(t) {\n  return new (t || UserDetailsComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\n\nUserDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UserDetailsComponent,\n  selectors: [[\"app-user-details\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [1, \"table\", \"table-striped\"], [1, \"btn\", \"btn-link\", \"px-0\", 3, \"click\"], [3, \"userId\", 4, \"ngIf\"], [3, \"userId\"]],\n  template: function UserDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, UserDetailsComponent_div_0_Template, 26, 8, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.vm$));\n    }\n  },\n  dependencies: [i3.NgIf, i4.UserPostsComponent, i3.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ1c2VyLWRldGFpbHMuY29tcG9uZW50LnNjc3MifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAmCIA;;;;;IAAkCA;;;;;;;;IAjCtCA,4BAAiC,CAAjC,EAAiC,IAAjC;IACQA;IAAeA;IAEnBA,iCAAmC,CAAnC,EAAmC,OAAnC;IAEQA;IACJA;IACAA,8BAAO,CAAP,EAAO,IAAP,EAAO,CAAP,EAAO,IAAP;IAEYA;IAAKA;IACTA;IAAIA;IAAgBA;IAExBA,4BAAI,EAAJ,EAAI,IAAJ;IACQA;IAAKA;IACTA;IAAIA;IAAgBA;IAExBA,4BAAI,EAAJ,EAAI,IAAJ;IACQA;IAAOA;IACXA;IACIA;IAKJA;IAKZA,2BAAG,EAAH,EAAG,MAAH,EAAG,CAAH;IACoCA;MAAAA;MAAA;MAAA,OAASA,wCAAT;IAA0B,CAA1B;IAA4BA;IAA+BA;IAG/FA;IACJA;;;;;;IAjCQA;IAAAA;IASYA;IAAAA;IAIAA;IAAAA;IAKAA;IAAAA;IAWgDA;IAAAA;IAG/CA;IAAAA;;;;ACzBrB,OAAM,MAAOC,oBAAP,CAA2B;EAM/BC,YAAoBC,WAApB,EAAsDC,cAAtD,EAAoF;IAAhE;IAAkC;IAF9C,wBAAmB,KAAnB;EAEiF;;EAE5E,IAATC,SAAS;IACX,OAAO,KAAKC,gBAAZ;EACD;;EAEDC,QAAQ;IACN,MAAMC,MAAM,GAAGC,MAAM,CAAC,KAAKL,cAAL,CAAoBM,QAApB,CAA6BC,QAA7B,CAAsCC,GAAtC,CAA0C,IAA1C,CAAD,CAArB;IACA,KAAKC,GAAL,GAAW,KAAKV,WAAL,CAAiBW,WAAjB,CAA6BN,MAA7B,CAAX;EACD;;EAEDO,eAAe;IACb,KAAKT,gBAAL,GAAwB,CAAC,KAAKA,gBAA9B;EACD;;AAnB8B;;;mBAApBL,sBAAoBD;AAAA;;;QAApBC;EAAoBe;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDRjCpB;;;;;MAAMA","names":["i0","UserDetailsComponent","constructor","userService","activatedRoute","viewPosts","_togglePostsView","ngOnInit","userId","Number","snapshot","paramMap","get","vm$","getUserById","togglePostsView","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/user/sandbox/angular/user-catalog/src/app/user/user-details/user-details.component.html","/home/user/sandbox/angular/user-catalog/src/app/user/user-details/user-details.component.ts"],"sourcesContent":["\n\n<div *ngIf=\"vm$ | async as user\">\n    <h2>{{ user.name }}</h2>\n\n    <table class=\"table table-striped\">\n        <thead>\n            <th></th>\n        </thead>\n        <tbody>\n            <tr>\n                <td>email</td>\n                <td>{{ user.email }}</td>\n            </tr>\n            <tr>\n                <td>phone</td>\n                <td>{{ user.phone }}</td>\n            </tr>\n            <tr>\n                <td>address</td>\n                <td>\n                    {{ user.address.street }}\n                    &nbsp;\n                    {{ user.address.suite }}\n                    &nbsp;\n                    {{ user.address.city }}\n                </td>\n            </tr>\n        </tbody>\n    </table>\n\n    <p>\n        <span class=\"btn btn-link px-0\" (click)=\"togglePostsView()\">view posts from {{ user.name }}</span>\n    </p>\n\n    <app-user-posts *ngIf=\"viewPosts\" [userId]=\"user.id\"></app-user-posts>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { UserService } from '../user.service';\n\n@Component({\n  selector: 'app-user-details',\n  templateUrl: './user-details.component.html',\n  styleUrls: ['./user-details.component.scss']\n})\nexport class UserDetailsComponent implements OnInit {\n\n  vm$: Observable<any> | undefined;\n  \n  private _togglePostsView = false;\n\n  constructor(private userService: UserService, private activatedRoute: ActivatedRoute) { }\n\n  get viewPosts() {\n    return this._togglePostsView;\n  }\n\n  ngOnInit(): void {\n    const userId = Number(this.activatedRoute.snapshot.paramMap.get('id'));\n    this.vm$ = this.userService.getUserById(userId);\n  }\n\n  togglePostsView() {\n    this._togglePostsView = !this._togglePostsView;\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}